@model Seating.ViewModels.ListsVM

@*Sets off an alert tone when someone goes on the list*@
<div id="AlertSound">
    @foreach (var item in Model.Dths)
    {
        if (item.EmpSent != true)
        {
            if (item.TimeEntered.AddSeconds(4) > DateTime.Now)
            {
                <iframe src="~/Content/Audio/Alert.mp3" allow="autoplay" style="display:none" id="iframeAudio">
                </iframe>
            }
        }
    }
    @foreach (var item in Model.Breaks)
    {
        if (item.EmpSent != true)
        {
            if (item.TimeEntered.AddSeconds(4) > DateTime.Now)
            {
                <iframe src="~/Content/Audio/Alert.mp3" allow="autoplay" style="display:none" id="iframeAudio">
                </iframe>
            }
        }
    }
</div>

<div class="d-inline-block bg-transparent" style="width:53rem">
    <div class="card border-0 d-inline-block mr-3" style="width: 15rem; height:fit-content">
        @*Dths*@
        <div class="card-header text-center">
            <h5>DTH</h5>
        </div>
        <div class="dthRefresh">
            <table class="table table-bordered">
                <tbody>
                    @foreach (var item in Model.Dths)
                    {
                        @*////EMPLOYEE SENT////*@
                        @if (item.EmpSent == true)
                        {
                            <tr style="background-color:lightgreen; font-size:large">
                                <td class="w-75 h-25 p-0">
                                    <input type="hidden" class="hiddenDthID" value="@item.Id" />
                                    <a href="Javascript:;" class="empNameDth" style="color:black">@item.Employee.DisplayName-@item.Employee.DispatchNumber</a>
                                <td class="h-25 p-0" style="font-size:large">@item.EmpPositionNavigation.PositionName</td>
                                <td class="h-25 justify-content-center p-0 pl-1">
                                    <input type="checkbox" value="" id="flexCheckChecked" checked>
                                </td>
                            </tr>
                        }
                        @*////EMPLOYEE NOT SENT *****BEFORE***** ONE MINUTE////*@
                        else if (item.EmpSent != true && item.TimeEntered.AddMinutes(1) > DateTime.Now)
                        {
                            <tr class="flashTime" style="font-size: large">
                                <td class="w-75 h-25 p-0">
                                    <input type="hidden" class="hiddenDthID" value="@item.Id" />
                                    <a href="Javascript:;" class="empNameDth" style="color:black">@item.Employee.DisplayName-@item.Employee.DispatchNumber</a>
                                <td class="h-25 p-0" style="font-size:large">@item.EmpPositionNavigation.PositionName</td>
                                <td class="h-25 justify-content-center p-0 pl-1">
                                    <input class="dthSent" type="checkbox" value="" id="flexCheckChecked">
                                </td>
                            </tr>
                        }
                        @*////EMPLOYEE NOT SENT AFTER ONE MINUTE////*@
                        else
                        {
                            <tr>
                                <td class="w-75 h-25 p-0" style="font-size:large">
                                    <input type="hidden" class="hiddenDthID" value="@item.Id" />
                                    <a href="Javascript:;" class="empNameDth" style="color:black">@item.Employee.DisplayName-@item.Employee.DispatchNumber</a>
                                <td class="h-25 p-0" style="font-size:large">@item.EmpPositionNavigation.PositionName</td>
                                <td class="h-25 justify-content-center p-0 pl-1">
                                    <input class="dthSent" type="checkbox" value="" id="flexCheckChecked">
                                </td>
                            </tr>
                        }
                    }
                </tbody>
            </table>
        </div>
        <div>
            @await Html.PartialAsync("../Shared/_DthDropdowns")
        </div>
    </div>

    <div class="card border-0 d-inline-block mr-3 align-top" style="width: 15rem; height:fit-content">
        @*Breaks*@
        <div class="card-header text-center">
            <h5>Break</h5>
        </div>
        <div class="breakRefresh">
            <table class="table table-bordered">
                <tbody>
                    @foreach (var item in Model.Breaks)
                    {
                        @*////EMPLOYEE SENT////*@
                        @if (item.EmpSent == true)
                        {
                            <tr style="background-color:lightgreen; font-size:large">
                                <td class="w-75 h-25 p-0">
                                    <input type="hidden" class="hiddenBreakID" value="@item.Id" />
                                    <a href="Javascript:;" class="empNameBreak" style="color:black">@item.Employee.DisplayName-@item.Employee.DispatchNumber</a>
                                <td class="h-25 p-0" style="font-size:large">@item.EmpPositionNavigation.PositionName</td>
                                <td class="h-25 justify-content-center p-0 pl-1">
                                    <input type="checkbox" value="" id="flexCheckChecked" checked>
                                </td>
                            </tr>
                        }
                        @*////EMPLOYEE NOT SENT *****BEFORE***** ONE MINUTE////*@
                        else if (item.EmpSent != true && item.TimeEntered.AddMinutes(1) > DateTime.Now)
                        {
                            <tr class="flashTime" style="font-size: large">
                                <td class="w-75 h-25 p-0">
                                    <input type="hidden" class="hiddenBreakID" value="@item.Id" />
                                    <a href="Javascript:;" class="empNameBreak" style="color:black">@item.Employee.DisplayName-@item.Employee.DispatchNumber</a>
                                <td class="h-25 p-0" style="font-size:large">@item.EmpPositionNavigation.PositionName</td>
                                <td class="h-25 justify-content-center p-0 pl-1">
                                    <input class="BreakSent" type="checkbox" value="" id="flexCheckChecked">
                                </td>
                            </tr>
                        }
                        @*////EMPLOYEE NOT SENT AFTER ONE MINUTE////*@
                        else
                        {
                            <tr>
                                <td class="w-75 h-25 p-0" style="font-size:large">
                                    <input type="hidden" class="hiddenBreakID" value="@item.Id" />
                                    <a href="Javascript:;" class="empNameBreak" style="color:black">@item.Employee.DisplayName-@item.Employee.DispatchNumber</a>
                                <td class="h-25 p-0" style="font-size:large">@item.EmpPositionNavigation.PositionName</td>
                                <td class="h-25 justify-content-center p-0 pl-1">
                                    <input class="BreakSent" type="checkbox" value="" id="flexCheckChecked">
                                </td>
                            </tr>
                        }

                    }
                </tbody>
            </table>
        </div>
        <div>
            @await Html.PartialAsync("../Shared/_BreakDropdowns")
        </div>
    </div>
    <div class="card border-0 d-inline-block align-top" style="width: 20rem; height:fit-content">
        @*Lunches*@
        <div class="card-header text-center">
            <h5>Lunch</h5>
        </div>
        <div class="lunchRefresh">
            <table class="table table-bordered">
                <tbody>
                    @foreach (var item in Model.Lunches)
                    {
                        @*////EMPLOYEE SENT WHILE FIRE IS COUNTED NORMAL LUNCH////*@
                        @if (item.EmpSent == true)
                        {
                            @if (ViewData["fireCounted"].Equals(true) && item.LongerLunch != true && item.DblLunch != true)
                            {
                                <tr style="background-color:lightgreen; font-size:large">
                                    <td class="w-75 h-25 p-0">
                                        <input type="hidden" class="hiddenLunchID" value="@item.Id" />
                                        <a href="Javascript:;" class="empNameLunch" style="font-size: large; color: black">@item.Employee.DisplayName-@item.Employee.DispatchNumber</a>
                                    <td class="h-25 pl-2 pr-2 pb-0 pt-0" style="font-size:large">@item.EmpPositionNavigation.PositionName</td>
                                    <td class="h-25 pl-2 pr-2 pb-0 pt-0" style="font-size:large">@item.LunchTime.ToShortTimeString()</td>
                                    <td class="h-25 pl-2 pr-2 pb-0 pt-0">
                                        <input type="checkbox" value="" id="flexCheckChecked" checked>
                                    </td>
                                </tr>
                            }
                            @*////EMPLOYEE SENT WHILE FIRE IS COUNTED 45 LUNCH////*@
                            @if (ViewData["fireCounted"].Equals(true) && item.LongerLunch == true && item.DblLunch != true)
                            {
                                <tr style="background-color:lightgreen; font-size:large">
                                    <td class="w-75 h-25 p-0">
                                        <input type="hidden" class="hiddenLunchID" value="@item.Id" />
                                        <a href="Javascript:;" class="empNameLunch" style="font-size: large; color: black">@item.Employee.DisplayName-@item.Employee.DispatchNumber<div style="font-weight: bold; display: inline-block; font-size: smaller">&nbsp;-45</div></a>
                                    <td class="h-25 pl-2 pr-2 pb-0 pt-0" style="font-size:large">@item.EmpPositionNavigation.PositionName</td>
                                    <td class="h-25 pl-2 pr-2 pb-0 pt-0" style="font-size:large">@item.LunchTime.ToShortTimeString()</td>
                                    <td class="h-25 pl-2 pr-2 pb-0 pt-0">
                                        <input type="checkbox" value="" id="flexCheckChecked" checked>
                                    </td>
                                </tr>
                            }
                            @*////EMPLOYEE SENT WHILE FIRE IS COUNTED DOUBLE LUNCH////*@
                            @if (ViewData["fireCounted"].Equals(true) && item.LongerLunch != true && item.DblLunch == true)
                            {
                                <tr style="background-color:lightgreen; font-size:large">
                                    <td class="w-75 h-25 p-0">
                                        <input type="hidden" class="hiddenLunchID" value="@item.Id" />
                                        <a href="Javascript:;" class="empNameLunch" style="font-size: large; color: black">@item.Employee.DisplayName-@item.Employee.DispatchNumber<div style="font-weight: bold; display: inline-block; font-size: smaller">&nbsp;-Dbl</div></a>
                                    <td class="h-25 pl-2 pr-2 pb-0 pt-0" style="font-size:large">@item.EmpPositionNavigation.PositionName</td>
                                    <td class="h-25 pl-2 pr-2 pb-0 pt-0" style="font-size:large">@item.LunchTime.ToShortTimeString()</td>
                                    <td class="h-25 pl-2 pr-2 pb-0 pt-0">
                                        <input type="checkbox" value="" id="flexCheckChecked" checked>
                                    </td>
                                </tr>
                            }
                            @*////EMPLOYEE SENT WHILE FIRE IS COUNTED DOUBLE AND 45 LUNCH////*@
                            @if (ViewData["fireCounted"].Equals(true) && item.LongerLunch == true && item.DblLunch == true)
                            {
                                <tr style="background-color:lightgreen; font-size:large">
                                    <td class="w-75 h-25 p-0">
                                        <input type="hidden" class="hiddenLunchID" value="@item.Id" />
                                        <a href="Javascript:;" class="empNameLunch" style="font-size: large; color: black">@item.Employee.DisplayName-@item.Employee.DispatchNumber<div style="font-weight: bold; display: inline-block; font-size: smaller">&nbsp;-45 -Dbl</div></a>
                                    <td class="h-25 pl-2 pr-2 pb-0 pt-0" style="font-size:large">@item.EmpPositionNavigation.PositionName</td>
                                    <td class="h-25 pl-2 pr-2 pb-0 pt-0" style="font-size:large">@item.LunchTime.ToShortTimeString()</td>
                                    <td class="h-25 pl-2 pr-2 pb-0 pt-0">
                                        <input type="checkbox" value="" id="flexCheckChecked" checked>
                                    </td>
                                </tr>
                            }
                            @*EMPLOYEE SENT WHILE FIRE IS NOT COUNTED*@
                            @if (ViewData["fireCounted"].Equals(false) && item.LongerLunch != true && item.DblLunch != true)
                            {
                                <tr style="background-color:lightgray; font-size:large">
                                    <td class="w-75 h-25 p-0">
                                        <input type="hidden" class="hiddenLunchID" value="@item.Id" />
                                        <a href="Javascript:;" class="empNameLunch" style="font-size: large; color: lightgray">@item.Employee.DisplayName-@item.Employee.DispatchNumber</a>
                                    <td class="h-25 pl-2 pr-2 pb-0 pt-0" style="font-size:large; color:gray">@item.EmpPositionNavigation.PositionName</td>
                                    <td class="h-25 pl-2 pr-2 pb-0 pt-0" style="font-size:large">@item.LunchTime.ToShortTimeString()</td>
                                    <td class="h-25 pl-2 pr-2 pb-0 pt-0">
                                        <input type="checkbox" value="" id="flexCheckChecked" checked>
                                    </td>
                                </tr>
                            }

                            @*EMPLOYEE SENT WHILE FIRE IS NOT COUNTED DOUBLE*@
                            @if (ViewData["fireCounted"].Equals(false) && item.LongerLunch != true && item.DblLunch == true)
                            {
                                <tr style="background-color:lightgray; font-size:large">
                                    <td class="w-75 h-25 p-0">
                                        <input type="hidden" class="hiddenLunchID" value="@item.Id" />
                                        <a href="Javascript:;" class="empNameLunch" style="font-size: large; color: gray">@item.Employee.DisplayName-@item.Employee.DispatchNumber<div style="font-weight: bold; display: inline-block; font-size: smaller">&nbsp;-Dbl</div></a>
                                    <td class="h-25 pl-2 pr-2 pb-0 pt-0" style="font-size:large; color:gray">@item.EmpPositionNavigation.PositionName</td>
                                    <td class="h-25 pl-2 pr-2 pb-0 pt-0" style="font-size:large">@item.LunchTime.ToShortTimeString()</td>
                                    <td class="h-25 pl-2 pr-2 pb-0 pt-0">
                                        <input type="checkbox" value="" id="flexCheckChecked" checked>
                                    </td>
                                </tr>
                            }
                            @*EMPLOYEE SENT WHILE FIRE IS NOT COUNTED DOUBLE AND 45*@
                            @if (ViewData["fireCounted"].Equals(false) && item.LongerLunch == true && item.DblLunch == true)
                            {
                                <tr style="background-color:lightgray; font-size:large">
                                    <td class="w-75 h-25 p-0">
                                        <input type="hidden" class="hiddenLunchID" value="@item.Id" />
                                        <a href="Javascript:;" class="empNameLunch" style="color:gray">@item.Employee.DisplayName-@item.Employee.DispatchNumber<div style="font-weight: bold; display: inline-block; font-size: smaller">&nbsp;-45 -Dbl</div></a>
                                    <td class="h-25 pl-2 pr-2 pb-0 pt-0" style="font-size:large; color:gray">@item.EmpPositionNavigation.PositionName</td>
                                    <td class="h-25 pl-2 pr-2 pb-0 pt-0" style="font-size:large">@item.LunchTime.ToShortTimeString()</td>
                                    <td class="h-25 pl-2 pr-2 pb-0 pt-0">
                                        <input type="checkbox" value="" id="flexCheckChecked" checked>
                                    </td>
                                </tr>
                            }
                            @*EMPLOYEE SENT WHILE FIRE IS NOT COUNTED 45*@
                            @if (ViewData["fireCounted"].Equals(false) && item.LongerLunch != true && item.DblLunch == true)
                            {
                                <tr style="background-color:lightgray; font-size:large">
                                    <td class="w-75 h-25 p-0">
                                        <input type="hidden" class="hiddenLunchID" value="@item.Id" />
                                        <a href="Javascript:;" class="empNameLunch" style="color:gray">@item.Employee.DisplayName-@item.Employee.DispatchNumber<div style="font-weight: bold; display: inline-block; font-size: smaller">&nbsp;-45</div></a>
                                    <td class="h-25 pl-2 pr-2 pb-0 pt-0" style="font-size:large; color:gray">@item.EmpPositionNavigation.PositionName</td>
                                    <td class="h-25 pl-2 pr-2 pb-0 pt-0" style="font-size:large">@item.LunchTime.ToShortTimeString()</td>
                                    <td class="h-25 pl-2 pr-2 pb-0 pt-0">
                                        <input type="checkbox" value="" id="flexCheckChecked" checked>
                                    </td>
                                </tr>
                            }
                        }

                        @*EMPLOYEE NOT SENT*@
                        @if (item.EmpSent != true)
                        {
                            @if (DateTime.Now >= item.LunchTime.AddMinutes(-1) && DateTime.Now <= item.LunchTime.AddMinutes(1))
                            {
                                @*////EMPLOYEE NOT SENT *****BEFORE***** ONE MINUTE////*@
                                @if (item.LongerLunch != true && item.DblLunch != true)
                                {
                                    <tr class="flashTime" style="background-color:yellow">
                                        <td class="w-75 h-25 p-0">
                                            <input type="hidden" class="hiddenLunchID" value="@item.Id" />
                                            <a href="Javascript:;" class="empNameLunch" style="font-size: large; color: black">@item.Employee.DisplayName-@item.Employee.DispatchNumber</a>
                                        <td class="h-25 pl-2 pr-2 pb-0 pt-0" style="font-size: large; color: black">@item.EmpPositionNavigation.PositionName</td>
                                        <td class="h-25 pl-2 pr-2 pb-0 pt-0" style="font-size:large">@item.LunchTime.ToShortTimeString()</td>
                                        <td class="h-25 pl-2 pr-2 pb-0 pt-0">
                                            <input class="lunchSent" type="checkbox" value="" id="flexCheckChecked">
                                        </td>
                                    </tr>
                                }
                                @*Employee not sent one min flash 45*@
                                @if (item.LongerLunch == true && item.DblLunch != true)
                                {
                                    <tr class="flashTime">
                                        <td class="w-75 h-25 p-0">
                                            <input type="hidden" class="hiddenLunchID" value="@item.Id" />
                                            <a href="Javascript:;" class="empNameLunch" style="font-size: large; color: black">@item.Employee.DisplayName-@item.Employee.DispatchNumber<div style="font-weight: bold; display: inline-block; font-size: smaller">&nbsp;-45</div></a>
                                        <td class="h-25 pl-2 pr-2 pb-0 pt-0" style="font-size: large; color: black">@item.EmpPositionNavigation.PositionName</td>
                                        <td class="h-25 pl-2 pr-2 pb-0 pt-0" style="font-size:large">@item.LunchTime.ToShortTimeString()</td>
                                        <td class="h-25 pl-2 pr-2 pb-0 pt-0">
                                            <input class="lunchSent" type="checkbox" value="" id="flexCheckChecked">
                                        </td>
                                    </tr>
                                }
                                @*Employee not sent one min flash double*@
                                @if (item.LongerLunch != true && item.DblLunch == true)
                                {
                                    <tr class="flashTime">
                                        <td class="w-75 h-25 p-0">
                                            <input type="hidden" class="hiddenLunchID" value="@item.Id" />
                                            <a href="Javascript:;" class="empNameLunch" style="font-size: large; color: black">@item.Employee.DisplayName-@item.Employee.DispatchNumber<div style="font-weight: bold; display: inline-block; font-size: smaller">&nbsp;-Dbl</div></a>
                                        <td class="h-25 pl-2 pr-2 pb-0 pt-0" style="font-size: large; color: black">@item.EmpPositionNavigation.PositionName</td>
                                        <td class="h-25 pl-2 pr-2 pb-0 pt-0" style="font-size:large">@item.LunchTime.ToShortTimeString()</td>
                                        <td class="h-25 pl-2 pr-2 pb-0 pt-0">
                                            <input class="lunchSent" type="checkbox" value="" id="flexCheckChecked">
                                        </td>
                                    </tr>
                                }
                                @*Employee not sent one min flash double and 45*@
                                @if (item.LongerLunch == true && item.DblLunch == true)
                                {
                                    <tr class="flashTime">
                                        <td class="w-75 h-25 p-0">
                                            <input type="hidden" class="hiddenLunchID" value="@item.Id" />
                                            <a href="Javascript:;" class="empNameLunch" style="font-size: large; color: black">@item.Employee.DisplayName-@item.Employee.DispatchNumber<div style="font-weight: bold; display: inline-block; font-size: smaller">&nbsp;-45 -Dbl</div></a>
                                        <td class="h-25 pl-2 pr-2 pb-0 pt-0" style="font-size: large; color: black">@item.EmpPositionNavigation.PositionName</td>
                                        <td class="h-25 pl-2 pr-2 pb-0 pt-0" style="font-size:large">@item.LunchTime.ToShortTimeString()</td>
                                        <td class="h-25 pl-2 pr-2 pb-0 pt-0">
                                            <input class="lunchSent" type="checkbox" value="" id="flexCheckChecked">
                                        </td>
                                    </tr>
                                }
                            }
                            @*////EMPLOYEE NOT SENT AFTER ONE MINUTE////*@
                            @if (item.LongerLunch != true && item.DblLunch != true)
                            {
                                <tr>
                                    <td class="w-75 h-25 p-0">
                                        <input type="hidden" class="hiddenLunchID" value="@item.Id" />
                                        <a href="Javascript:;" class="empNameLunch" style="font-size: large; color: black">@item.Employee.DisplayName-@item.Employee.DispatchNumber</a>
                                    <td class="h-25 pl-2 pr-2 pb-0 pt-0" style="font-size:large; color:black">@item.EmpPositionNavigation.PositionName</td>
                                    <td class="h-25 pl-2 pr-2 pb-0 pt-0" style="font-size:large">@item.LunchTime.ToShortTimeString()</td>
                                    <td class="h-25 pl-2 pr-2 pb-0 pt-0">
                                        <input class="lunchSent" type="checkbox" value="" id="flexCheckChecked">
                                    </td>
                                </tr>
                            }
                            @*Employee Not Sent 45 lunch*@
                            @if (item.LongerLunch == true && item.DblLunch != true)
                            {
                                <tr>
                                    <td class="w-75 h-25 p-0">
                                        <input type="hidden" class="hiddenLunchID" value="@item.Id" />
                                        <a href="Javascript:;" class="empNameLunch" style="font-size: large; color: black">@item.Employee.DisplayName-@item.Employee.DispatchNumber<div style="font-weight: bold; display: inline-block; font-size: smaller">&nbsp;-45</div></a>
                                    <td class="h-25 pl-2 pr-2 pb-0 pt-0" style="font-size: large; color: black">@item.EmpPositionNavigation.PositionName</td>
                                    <td class="h-25 pl-2 pr-2 pb-0 pt-0" style="font-size:large">@item.LunchTime.ToShortTimeString()</td>
                                    <td class="h-25 pl-2 pr-2 pb-0 pt-0">
                                        <input class="lunchSent" type="checkbox" value="" id="flexCheckChecked">
                                    </td>
                                </tr>
                            }
                            @*Employee Not Sent Double*@
                            @if (item.LongerLunch != true && item.DblLunch == true)
                            {
                                <tr>
                                    <td class="w-75 h-25 p-0">
                                        <input type="hidden" class="hiddenLunchID" value="@item.Id" />
                                        <a href="Javascript:;" class="empNameLunch" style="font-size: large; color: black">@item.Employee.DisplayName-@item.Employee.DispatchNumber<div style="font-weight:bold; display:inline-block; font-size:smaller">&nbsp;-Dbl</div></a>
                                    <td class="h-25 pl-2 pr-2 pb-0 pt-0" style="font-size: large; color: black">@item.EmpPositionNavigation.PositionName</td>
                                    <td class="h-25 pl-2 pr-2 pb-0 pt-0" style="font-size:large">@item.LunchTime.ToShortTimeString()</td>
                                    <td class="h-25 pl-2 pr-2 pb-0 pt-0">
                                        <input class="lunchSent" type="checkbox" value="" id="flexCheckChecked">
                                    </td>
                                </tr>
                            }
                            @*Employee Not Sent Double and 45*@
                            @if (item.LongerLunch == true && item.DblLunch == true)
                            {
                                <tr>
                                    <td class="w-75 h-25 p-0">
                                        <input type="hidden" class="hiddenLunchID" value="@item.Id" />
                                        <a href="Javascript:;" class="empNameLunch" style="font-size: large; color: black">@item.Employee.DisplayName-@item.Employee.DispatchNumber<div style="font-weight:bold; display:inline-block; font-size:smaller">&nbsp;-45-Dbl</div></a>
                                    <td class="h-25 pl-2 pr-2 pb-0 pt-0" style="font-size: large; color: black">@item.EmpPositionNavigation.PositionName</td>
                                    <td class="h-25 pl-2 pr-2 pb-0 pt-0" style="font-size:large">@item.LunchTime.ToShortTimeString()</td>
                                    <td class="h-25 pl-2 pr-2 pb-0 pt-0">
                                        <input class="lunchSent" type="checkbox" value="" id="flexCheckChecked">
                                    </td>
                                </tr>
                            }
                        }
                    }
                </tbody>
            </table>
        </div>
        <div>
            @await Html.PartialAsync("../Shared/_LunchMainPageDropdowns")
        </div>
    </div>
</div>
